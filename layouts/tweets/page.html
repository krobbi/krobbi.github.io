{{ define "main" }}
	{{ $tweetID := .Params.tweetID }}
	{{ if not $tweetID }}
		{{ errorf "The Tweet page %q requires a Tweet ID." .RelPermalink }}
	{{ end }}
	<article class="padded tweet">
		<header>
			<h1>Tweet from {{ partial "tweets/date.html" .Date }}</h1>
		</header>
		{{ .Content }}
		{{ range .Params.photos }}
			{{ partial "tweets/photo.html" (dict "tweetID" $tweetID "photo" .) }}
		{{ end }}
		{{ with .Store.Get "youtubeVideoID" }}
			<iframe
				src="https://www.youtube-nocookie.com/embed/{{ . }}"
				allow="fullscreen"
				sandbox="allow-popups allow-same-origin allow-scripts"
				referrerpolicy="no-referrer"
				credentialless="true"
				class="tweet-video"
				title="YouTube video"
			></iframe>
		{{ end }}
	</article>
	{{ with .Params.context }}
		<section class="padded" aria-label="Context">
			<h2>Context</h2>
			{{ $.RenderString (dict "display" "block") . }}
		</section>
	{{ end }}
	<nav class="padded" aria-label="Tweet">
		<ul>
			<li><a href="{{ .Parent.RelPermalink }}">Go back to Twitter archive</a></li>
			{{ with .PrevInSection }}
				<li><a href="{{ .RelPermalink }}">Go to previous Tweet</a></li>
			{{ end }}
			{{ with .NextInSection }}
				<li><a href="{{ .RelPermalink }}">Go to next Tweet</a></li>
			{{ end }}
		</ul>
	</nav>
{{ end }}
